<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>MY ROOM</title>
<style>
body {
  margin: 0;
  background: black;
  color: white;
  font-family: monospace;
}
#popup {
  position: fixed; top: 0; left: 0; width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex; justify-content: center; align-items: center;
}
.popup-content {
  background: rgba(255,255,255,0.2);
  backdrop-filter: blur(5px);
  padding: 20px;
  border-radius: 8px;
  text-align: center;
}
#loadingText { display: none; }
#masukBtn {
  padding: 10px 20px;
  border: 2px solid white;
  box-shadow: 0 0 10px white;
  background: transparent;
  color: white;
  cursor: pointer;
}
#background {
  position: fixed; top:0; left:0; width: 100%; height: 100%;
  overflow: hidden; z-index: -1;
}
.clouds {
  position: absolute; width: 300%; height: 100%;
  background: url('https://i.ibb.co/Mn0jhYB/clouds.png') repeat-x;
  animation: moveClouds 60s linear infinite;
}
@keyframes moveClouds {
  from { transform: translateX(0); }
  to { transform: translateX(-100%); }
}
.lightning {
  position: absolute; width: 100%; height: 100%;
  background: white; opacity: 0;
  animation: lightningFlash 10s infinite;
}
@keyframes lightningFlash {
  0%, 97%, 100% { opacity: 0; }
  50% { opacity: 0.8; }
}
#terminal {
  margin: 50px; background: black;
  padding: 20px; border-radius: 8px; min-height: 200px;
}
#clock { margin-top: 10px; font-size: 18px; text-shadow: 0 0 5px white; }
#marquee { color: orange; text-shadow: 0 0 5px red; }
.play-style {
  display: block; margin: 20px auto; padding: 10px 20px;
  border: 2px solid white; background: transparent;
  color: white; box-shadow: 0 0 10px white; cursor: pointer;
}
#tvContainer { display: none; justify-content: center; margin-top: 20px; }
#tvContainer.tv-on { display: flex; animation: tvOn 1s forwards; }
@keyframes tvOn { from { transform: scaleY(0); opacity: 0; } to { transform: scaleY(1); opacity: 1; } }
</style>
<script src="https://www.youtube.com/iframe_api"></script>
</head>
<body>
<div id="popup">
  <div class="popup-content">
    <h2>Selamat Datang</h2>
    <button id="masukBtn">Masuk</button>
    <p id="loadingText">Memuat...</p>
  </div>
</div>
<div id="background">
  <div class="clouds"></div>
  <div class="lightning"></div>
</div>
<div id="terminal">
  <pre id="terminalText"></pre>
  <div class="folder" style="cursor:pointer">MY-ROOM/</div>
  <div class="nested" style="display:none">
    ├── src/<br>
    │   ├── app.py<br>
    │   ├── db.py<br>
  </div>
  <div id="clock"></div>
</div>
<marquee id="marquee">Selamat menikmati makanan yang sudah di sediakan, semoga enak makanannya, dan enak, selamat makan yah...!!!</marquee>
<button id="playBtn" class="play-style">Play</button>
<div id="tvContainer"><div id="tvFrame"></div></div>
<p id="credit">Credit by : Dani</p>

<script>
// Terminal typing
const terminalLines = [
  "WELCOME TO MY ROOM",
  "selamat datang di ruangan saya",
  "ini adalah ruangan yang gk ada apa apa nya di banding kalian yang banyak kreasi,",
  "saya cuma pelajar yang baru buat scrip simple dengan bantuan ChatGPT,",
  "jika suka dengan ruangan saya bisa yaudah haveFUN ye nO coMMEnt ye."
];
let tIndex = 0, lineIndex = 0;
function typeTerminal() {
  if (lineIndex < terminalLines.length) {
    if (tIndex < terminalLines[lineIndex].length) {
      document.getElementById("terminalText").innerHTML += terminalLines[lineIndex][tIndex++];
      setTimeout(typeTerminal, 50);
    } else {
      document.getElementById("terminalText").innerHTML += "<br>";
      tIndex = 0; lineIndex++;
      setTimeout(typeTerminal, 500);
    }
  }
}
setTimeout(typeTerminal, 1000);

// Clock
function updateClock() {
  const now = new Date();
  document.getElementById("clock").textContent = now.toLocaleTimeString();
}
setInterval(updateClock, 1000);

// Popup masuk
document.getElementById("masukBtn").addEventListener("click", () => {
  document.getElementById("loadingText").style.display = "block";
  setTimeout(() => {
    triggerGlassBreak();
    document.getElementById("popup").style.display = "none";
  }, 3000);
});

// Glass break placeholder
function triggerGlassBreak() {
  console.log("Glass break effect triggered!");
  let audio = new Audio("https://www.soundjay.com/mechanical/sounds/glass-breaking-1.mp3");
  audio.play();
}

// Toggle file tree
document.querySelector(".folder").addEventListener("click", function() {
  const nested = document.querySelector(".nested");
  nested.style.display = nested.style.display === "block" ? "none" : "block";
});

// YouTube Playlist
const playlist = [
  "ScMzIvxBSi4", // contoh video
  "5qap5aO4i9A",
  "DWcJFNfaw9c"
];
let currentVideoIndex = 0;
let player;
function onYouTubeIframeAPIReady() {
  player = new YT.Player('tvFrame', {
    height: '315',
    width: '560',
    videoId: playlist[currentVideoIndex],
    playerVars: { autoplay: 0, controls: 1, modestbranding: 1, rel: 0 },
    events: { 'onStateChange': onPlayerStateChange }
  });
}
function onPlayerStateChange(event) {
  if (event.data === YT.PlayerState.ENDED) {
    currentVideoIndex = (currentVideoIndex + 1) % playlist.length;
    player.loadVideoById(playlist[currentVideoIndex]);
  }
}
document.getElementById("playBtn").addEventListener("click", () => {
  const tvContainer = document.getElementById("tvContainer");
  tvContainer.classList.add("tv-on");
  setTimeout(() => {
    player.playVideo();
  }, 1000);
});
</script>
</body>
</html>
